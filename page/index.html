<!doctype html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport"
        content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>JustTodo</title>
    <link rel="icon" href="./icon.png" type="image/png">
    <link rel="stylesheet" href="./index.css">

    <script src="./sober.min.js"></script>
    <script src="./utils.js"></script>
    <script>
        initUtils((isNative) => {
            if (isNative) {
                loadScript('./abs-bridge.js')
                loadScript('./native-bridge.js')
                loadCSS('./toast.css')
                loadScript('./toast.js')

                loadCSS('./errortip.css')
                loadScript('./errortip.js')
            } else {
                loadScript('./bridge/abs-bridge.js')
                loadScript('./bridge/web-bridge.js')
                loadCSS('./toast/toast.css')
                loadScript('./toast/toast.js')

                loadCSS('./errortip/errortip.css')
                loadScript('./errortip/errortip.js')
            }
            loadScript('./ui.js')
        })
    </script>
</head>

<body>
    <s-page id="app">
        <s-tab id="headerTabs" style="justify-content: flex-start">
            <s-menu id="tabContextMenu">
                <s-menu-item id="tab_menu_item_delete">
                    <s-icon slot="start">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z">
                            </path>
                        </svg>
                    </s-icon>
                    Delete
                </s-menu-item>
            </s-menu>
        </s-tab>

        <div id="dataTableContainer" style="height: 332px;">
            <s-scroll-view id="todoScrollView" style="width: 100%; height: 366px;">
                <div id="emptyView">
                    <image style="width: 60%;" src="./empty.svg">
                </div>
                <ul id="todoList">
                </ul>
            </s-scroll-view>
            <div id="editor">
                <input id="newTodoInput" type="text">
                <s-icon-button id="newTodoCommitBtn" slot="end">
                    <s-icon slot="end">
                        <svg class="svg-hint" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="M360-240 120-480l240-240 56 56-144 144h488v-160h80v240H272l144 144-56 56Z"></path>
                        </svg>
                    </s-icon>
                </s-icon-button>
                <s-menu id="newTodoMenu">
                    <s-menu-item id="new_todo_menu_item_paste">
                        <s-icon slot="start">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                <path
                                    d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560h-80v120H280v-120h-80v560Zm280-560q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z">
                                </path>
                            </svg>
                        </s-icon>
                        <span class="text"></span>
                    </s-menu-item>
                </s-menu>
            </div>
            <s-menu id="todoItemContextMenu"">
                <s-menu-item id="todo_menu_item_move_to">
                    <s-icon slot="start">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z">
                            </path>
                        </svg>
                    </s-icon>
                    <span class="text"></span>
                </s-menu-item>
            </s-menu>
        </div>

        <div id="newTabPage">
            <div id="newTabInputErrorTip" class="errortip">
                <span id="newTabInputErrorTipText" class="errortiptext">1122334</span>
                <div class="newTabInputWrapper" style="display: flex;">
                    <input id="newTabInput" type="text">
                    <s-icon-button id="newTabCommitBtn" slot="end">
                        <s-icon slot="end">
                            <svg class="svg-hint" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                <path d="M360-240 120-480l240-240 56 56-144 144h488v-160h80v240H272l144 144-56 56Z"></path>
                            </svg>
                        </s-icon>
                    </s-icon-button>
                </div>
            </div>
        </div>
        <s-dialog id="dialog">
            <div id="dialog-text" slot="text"></div>
            <s-button id="dialog-negative-btn" slot="action" type="text">取消</s-button>
            <s-button id="dialog-positive-btn" slot="action" type="text">确定</s-button>
        </s-dialog>
    </s-page>
    <script>
        // onPageReady()
    </script>
</body>
<div id="toast"></div>

</html>