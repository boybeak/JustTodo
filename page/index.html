<!doctype html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport"
        content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>JustTodo</title>
    <link rel="icon" href="./icon.png" type="image/png">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="./square-table.css">

    <script src="./sober.min.js"></script>
    <script src="./utils.js"></script>
    <script>
        initUtils((isNative) => {
            if (isNative) {
                loadScript('./abs-bridge.js')
                loadScript('./native-bridge.js')
                loadCSS('./toast.css')
                loadScript('./toast.js')

                loadCSS('./tip.css')
                loadScript('./tip.js')
            } else {
                loadScript('./bridge/abs-bridge.js')
                loadScript('./bridge/web-bridge.js')
                loadCSS('./toast/toast.css')
                loadScript('./toast/toast.js')

                loadCSS('./tip/tip.css')
                loadScript('./tip/tip.js')
            }
            loadScript('./ui.js')
        })
    </script>
</head>

<body>
    <s-page id="app">
        <s-tab id="headerTabs" style="justify-content: flex-start">
            <s-menu id="tabContextMenu">
                <s-menu-item id="tab_menu_item_delete">
                    <s-icon slot="start">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z">
                            </path>
                        </svg>
                    </s-icon>
                    Delete
                </s-menu-item>
            </s-menu>
        </s-tab>

        <div id="dataTableContainer" style="height: 332px;">
            <s-scroll-view class="scrollViewNoBars" style="width: 100%; height: 376px;">
                <div id="emptyView">
                    <image style="width: 60%;" src="./empty.svg">
                </div>
                <ul id="todoList">
                </ul>
            </s-scroll-view>
            <div id="editor">
                <input id="newTodoInput" type="text">
                <s-icon-button id="newTodoCommitBtn" slot="end">
                    <s-icon slot="end">
                        <svg class="svg-hint" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="M360-240 120-480l240-240 56 56-144 144h488v-160h80v240H272l144 144-56 56Z"></path>
                        </svg>
                    </s-icon>
                </s-icon-button>
            </div>
            <s-menu id="todoItemContextMenu"">
                <s-menu-item id=" todo_menu_item_move_to">
                <s-icon slot="start">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                        <path
                            d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z">
                        </path>
                    </svg>
                </s-icon>
                <span class="text"></span>
                </s-menu-item>
            </s-menu>
        </div>

        <div id="newTabPage">
            <s-scroll-view class="scrollViewNoBars" style="width: 100%; height: 376px;">
                <div style="padding: 8px;">
                    <table class="square-table">
                        <tbody id="iconsBuildInTableBody">
                        </tbody>
                    </table>
                </div>
                
                <s-divider style="margin: 0px;"></s-divider>
                <div style="padding: 8px;">
                    <table class="square-table">
                        <tbody id="iconsCustomTableBody">
                        </tbody>
                    </table>
                </div>
                
            </s-scroll-view>
            <div id="newTabInputWrapper">
                <s-icon-button id="newTabIconBtn" slot="end">
                    <s-icon id="newTabIcon" class="svg-hint" style="width: 40px; height: 40px; padding: 8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path
                                d="M120-120v-200h80v120h120v80H120Zm520 0v-80h120v-120h80v200H640ZM120-640v-200h200v80H200v120h-80Zm640 0v-120H640v-80h200v200h-80Z">
                            </path>
                        </svg>
                    </s-icon>
                </s-icon-button>
                <input id="newTabInput" type="text">
                <s-icon-button id="newTabCommitBtn" slot="end">
                    <s-icon id="newTabCommitBtn" slot="end" class="svg-hint">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="M360-240 120-480l240-240 56 56-144 144h488v-160h80v240H272l144 144-56 56Z"></path>
                        </svg>
                    </s-icon>
                </s-icon-button>
            </div>
        </div>
        <s-dialog id="dialog">
            <div id="dialog-text" slot="text"></div>
            <s-button id="dialog-negative-btn" slot="action" type="text"></s-button>
            <s-button id="dialog-positive-btn" slot="action" type="text"></s-button>
        </s-dialog>
        <s-menu id="common_menu"></s-menu>
    </s-page>
    <script>
        // onPageReady()
    </script>
</body>
<div id="toast"></div>

</html>